<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pms.admin.modules.admin.dao.SysResouceDao">
  	
  	<!-- 用户id查询资源权限 -->
	<select id="getPermissionList" resultType="com.pms.common.pojo.SysResouce">
	    select 
				DISTINCT 
				a.id,
				a.uid,
				a.pid,
				a.icon,
				a.res_name,
				a.res_type,
				a.res_path,
				a.route_path,
				a.permission,
				a.level,
				a.sort,
				a.remark,
				a.tenant_id
		 from sys_resouce a, sys_role b, sys_role_resouce c ,sys_user_role d
		where a.id = c.res_id and b.id = c.role_id and d.role_id = b.id 
		and d.user_id = #{userId} 
		order by id,sort
  	</select>
  
</mapper>

